<div class="header-container" [class.collapsed]="isCollapsed">
  <mat-toolbar class="header-toolbar" *ngIf="!isCollapsed">
    <!-- Left Section: Icon and App Name -->
    <div class="header-left">
      <mat-icon class="app-icon">dashboard</mat-icon>
      <span class="app-name">SDMS</span>
    </div>

    <!-- Center Section: Search Bar -->
    <div class="header-center">
      <mat-form-field appearance="outline" class="search-field">
        <mat-icon matPrefix>search</mat-icon>
        <input matInput placeholder="Search..." [(ngModel)]="searchQuery" (keyup.enter)="onSearch()">
        <button mat-icon-button matSuffix *ngIf="searchQuery" (click)="clearSearch()" aria-label="Clear search">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>

    <!-- Right Section: Action Buttons -->
    <div class="header-right">
      <button mat-icon-button (click)="onLoadComponent('test')" matTooltip="Home">
        <mat-icon>home</mat-icon>
      </button>
      
      <button mat-icon-button [matMenuTriggerFor]="notificationsMenu" matTooltip="Notifications">
        <mat-icon matBadge="3" matBadgeColor="warn">notifications</mat-icon>
      </button>
      <mat-menu #notificationsMenu="matMenu">
        <button mat-menu-item>
          <mat-icon>info</mat-icon>
          <span>New notification 1</span>
        </button>
        <button mat-menu-item>
          <mat-icon>warning</mat-icon>
          <span>New notification 2</span>
        </button>
        <button mat-menu-item>
          <mat-icon>check_circle</mat-icon>
          <span>New notification 3</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item>
          <span>View all notifications</span>
        </button>
      </mat-menu>

      <button mat-icon-button [matMenuTriggerFor]="settingsMenu" matTooltip="Settings">
        <mat-icon>settings</mat-icon>
      </button>
      <mat-menu #settingsMenu="matMenu">
        <button mat-menu-item>
          <mat-icon>account_circle</mat-icon>
          <span>Profile</span>
        </button>
        <button mat-menu-item>
          <mat-icon>tune</mat-icon>
          <span>Preferences</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item>
          <mat-icon>help</mat-icon>
          <span>Help & Support</span>
        </button>
        <button mat-menu-item>
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>

      <button mat-icon-button [matMenuTriggerFor]="profileMenu" class="profile-btn" matTooltip="Profile">
        <mat-icon>account_circle</mat-icon>
      </button>
      <mat-menu #profileMenu="matMenu">
        <div class="profile-menu-header">
          <mat-icon class="profile-icon">account_circle</mat-icon>
          <div class="profile-info">
            <div class="profile-name">John Doe</div>
            <div class="profile-email">john.doe&#64;example.com</div>
          </div>
        </div>
        <mat-divider></mat-divider>
        <button mat-menu-item>
          <mat-icon>person</mat-icon>
          <span>My Profile</span>
        </button>
        <button mat-menu-item>
          <mat-icon>settings</mat-icon>
          <span>Account Settings</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item>
          <mat-icon>logout</mat-icon>
          <span>Sign Out</span>
        </button>
      </mat-menu>
    </div>
  </mat-toolbar>
</div>
